# Server port (HTTP JSON-RPC)
# WebSocket server automatically runs on port + 1 (Solana convention)
port = 28899

# Redis Connection URL
redis_url = "redis://127.0.0.1:6379/0"

# Backend RPC endpoints with weights
[[backends]]
label = "backend-0"
url = "https://api.mainnet-beta.solana.com"
weight = 2

[[backends]]
label = "backend-1"
url = "https://solana-api.com"
weight = 1

# Health check configuration (optional - has defaults)
[health_check]
interval_secs = 30              # Check every 30 seconds
timeout_secs = 5                # 5 second timeout
method = "getSlot"              # RPC method for health checks
consecutive_failures_threshold = 3     # Mark unhealthy after 3 failures
consecutive_successes_threshold = 2    # Mark healthy after 2 successes

# Method-specific routing overrides (optional)
# Use backend labels to route specific methods
[method_routes]
getProgramAccountsV2 = "backend-0"
sendTransaction = "backend-1"
